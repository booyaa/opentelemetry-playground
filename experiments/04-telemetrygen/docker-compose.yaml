services:
  otel-collector:
    image: ghcr.io/open-telemetry/opentelemetry-collector-releases/opentelemetry-collector-contrib:0.117.0
    container_name: otelcollector
    volumes:
      - ./config.yaml:/etc/otelcol-contrib/config.yaml
  telemetrygen:
    image: ghcr.io/open-telemetry/opentelemetry-collector-contrib/telemetrygen:latest
    container_name: telemetrygen
    # command: ["traces", "--traces", "1", "--otlp-endpoint", "otelcollector:4317", "--otlp-insecure", "--otlp-header", Content-Type="application/x-protobuf"]
    command: ["logs", "--duration", "2s", "--otlp-endpoint", "otelcollector:4317", "--otlp-insecure", "--otlp-header", Content-Type="application/x-protobuf"]

    depends_on:
      - otel-collector


